---
id: replace-filter-attributes
title: "Replace the filter attributes of a corpus"
description: "Replace the filter attributes of a corpus. This does not happen immediately, but"
sidebar_label: "Replace the filter attributes of a corpus"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/rest-api/vectara-rest-api-v-2
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Replace the filter attributes of a corpus</h1>

<MethodEndpoint method={"post"} path={"/v2/corpora/{corpus_key}/replace_filter_attributes"}></MethodEndpoint>



Replace the filter attributes of a corpus. This does not happen immediately, but
instead creates a job and will complete when that job completes. Until that
job completes, using new filter attributes will not work.

You can monitor the status of the filter change using the returned job id.


## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Path Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"in":"path","name":"corpus_key","description":"Key of the corpus to have filters replaced.","required":true,"schema":{"description":"A user-provided key for a corpus.","type":"string","pattern":"[a-zA-Z0-9_\\=\\-]+$","example":"my-corpus","title":"CorpusKey"}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>filter_attributes</strong><span className={"openapi-schema__name"}> object[]</span><span className={"openapi-schema__divider"}></span><span className={"openapi-schema__required"}>required</span></span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

The new filter attributes.

</div><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem","paddingBottom":".5rem"}}>Array [</div></li><SchemaItem collapsible={false} name={"name"} required={true} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The JSON path of the filter attribute in a document or document part metadata.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"level"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`document`, `part`]"} schema={{"description":"Indicates whether this a document or document part metadata filter.","type":"string","enum":["document","part"]}}></SchemaItem><SchemaItem collapsible={false} name={"description"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"Description of the filter. May be omitted.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"indexed"} required={false} schemaName={"boolean"} qualifierMessage={undefined} schema={{"description":"Whether an index is created for the filter. Creating an index will improve query latency when using the filter.","type":"boolean","default":true}}></SchemaItem><SchemaItem collapsible={false} name={"type"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** [`integer`, `real_number`, `text`, `boolean`, `list[integer]`, `list[real_number]`, `list[text]`]"} schema={{"description":"The value type of the filter.","type":"string","enum":["integer","real_number","text","boolean","list[integer]","list[real_number]","list[text]"]}}></SchemaItem><li><div style={{"fontSize":"var(--ifm-code-font-size)","opacity":"0.6","marginLeft":"-.5rem"}}>]</div></li></div></details></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

Succesfully created a job that will replace the filter attributes.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"job_id"} required={true} schemaName={"string"} qualifierMessage={"**Possible values:** Value must match regular expression `job_.+$`"} schema={{"description":"Job that was created in order to replace filter attributes.","type":"string","pattern":"job_.+$"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"job_id\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"403"} value={"403"}><div>

Permissions don't allow replacing filter attributes.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"messages"} required={false} schemaName={"message[]"} qualifierMessage={undefined} schema={{"description":"The messages describing why the error occured.","type":"array","items":{"title":"message","type":"string","example":"Internal server error."}}}></SchemaItem><SchemaItem collapsible={false} name={"request_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The ID of the request that can be used to help Vectara support debug what went wrong .","type":"string"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"messages\": [\n    \"Internal server error.\"\n  ],\n  \"request_id\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"404"} value={"404"}><div>

Corpus not found.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"The ID cannot found.","type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"messages"} required={false} schemaName={"message[]"} qualifierMessage={undefined} schema={{"type":"array","items":{"title":"message","type":"string"}}}></SchemaItem><SchemaItem collapsible={false} name={"request_id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"ID of the request that can be used to help Vectara support debug what went wrong.","type":"string"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"id\": \"string\",\n  \"messages\": [\n    \"string\"\n  ],\n  \"request_id\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div></div>
      